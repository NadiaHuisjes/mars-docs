<h4 id="inputs">Inputs</h4>

<ul>
  <li>“Table with molecule column” - MarsTable with a molecule column. The molecule column will be used as a definition for each molecule entry in the MoleculeArchive.
<img align="center" src="/docs/Molecule/img/Input table.png" width="400" />
<img align="center" src="/docs/Molecule/img/Build archive from table.png" width="400" /></li>
</ul>

<h4 id="output">Output</h4>

<ul>
  <li>A MoleculeArchive in which each molecule entry corresponds to a unique molecule number in the input table.</li>
</ul>

<h3 id="how-to-run-this-command-from-a-groovy-script">How to run this Command from a groovy script</h3>

<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#@</span> <span class="n">MarsTable</span> <span class="n">table</span>
<span class="err">#@</span> <span class="n">ImageJ</span> <span class="n">ij</span>
<span class="err">#</span><span class="nd">@output</span> <span class="n">MoleculeArchive</span> <span class="n">archive</span>

<span class="kn">import</span> <span class="nn">de.mpg.biochem.mars.molecule.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">de.mpg.biochem.mars.table.*</span><span class="o">;</span>

<span class="c1">//Make an instance of the Command you want to run...</span>
<span class="kd">final</span> <span class="n">BuildArchiveFromTableCommand</span> <span class="n">archiveFromTable</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BuildArchiveFromTableCommand</span><span class="o">();</span>

<span class="c1">//Populates @Parameters Services etc.. using the current context</span>
<span class="c1">//which we get from the ImageJ input...</span>
<span class="n">archiveFromTable</span><span class="o">.</span><span class="na">setContext</span><span class="o">(</span><span class="n">ij</span><span class="o">.</span><span class="na">getContext</span><span class="o">());</span>

<span class="c1">//Set all the input parameters</span>
<span class="n">archiveFromTable</span><span class="o">.</span><span class="na">setTable</span><span class="o">(</span><span class="n">table</span><span class="o">);</span>

<span class="c1">//Run the Command</span>
<span class="n">archiveFromTable</span><span class="o">.</span><span class="na">run</span><span class="o">();</span>

<span class="c1">//Retrieve output from the command</span>
<span class="n">archive</span> <span class="o">=</span> <span class="n">archiveFromTable</span><span class="o">.</span><span class="na">getArchive</span><span class="o">();</span>
</code></pre></div></div>

<p>Alternatively, you can just use the MoleculeArchive constructer for creating an archive from a MarsTable:</p>
<div class="language-groovy highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">#@</span> <span class="n">MarsTable</span> <span class="n">table</span>
<span class="err">#@</span> <span class="n">MoleculeArchiveService</span> <span class="n">moleculeArchiveService</span>
<span class="err">#</span><span class="nd">@output</span> <span class="n">MoleculeArchive</span> <span class="n">archive</span>

<span class="kn">import</span> <span class="nn">de.mpg.biochem.mars.molecule.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">de.mpg.biochem.mars.table.*</span><span class="o">;</span>

<span class="n">archive</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MoleculeArchive</span><span class="o">(</span><span class="s2">"new archive"</span><span class="o">,</span> <span class="n">table</span><span class="o">,</span> <span class="n">moleculeArchiveService</span><span class="o">)</span>
<span class="c1">//OR</span>
<span class="c1">//archive = new MoleculeArchive("new archive", table)</span>
<span class="c1">//With no status updates...</span>
</code></pre></div></div>
